@using System.Web.UI.WebControls
@using MasterReservation.Models
@model Object[]
@{
    ViewBag.Title = "Поиск рабочих мест";
}
@Styles.Render("~/Content/datepicker.css")
@Styles.Render("~/Content/slick/slick.css")
@Styles.Render("~/Content/slick/slick-theme.css")
@Styles.Render("~/Content/FindWorkPlacesStyles.css")
@Scripts.Render("~/bundles/jqueryval")

<script src="https://api-maps.yandex.ru/2.1/?apikey=8db9bf80-135a-40b0-9e06-66adc66fd9b3&lang=ru_RU"
        type="text/javascript"></script>
@Scripts.Render("~/Scripts/jquery-ui-1.12.1.min.js")
@Scripts.Render("~/Scripts/datepicker.js")
@Scripts.Render("~/Scripts/slick.min.js")
@Scripts.Render("~/Scripts/FindWorkPlacesScripts.js")



<div id="body-container">
    @*@using (Html.BeginForm("SendDate", "Authentication", FormMethod.Post, new {@id = "filter-wrap"}))
    {*@
    <div id="filter-wrap">
        <span id="filter-title">Фильтр поиска Рабочих Мест</span>
        <div id="calendar-wrap">
            <span class="sub-title">
                Выберите дату:
            </span>
            <div id="calendar" class="calendar"></div>
            <!-- инпут для даты -->
            @*@Html.EditorFor(model => (model[0] as DateModel).Date, new {htmlAttributes = new {@class = "hidden-input", id = "input-for-date"}})*@
            <input type="text" class="hidden-input" id="input-for-date">
        </div>
        <div id="input-time-wrap">
            <span class="sub-title">
                Выберите время
            </span>
            <div id="input-time-sub-wrap">
                <span class="time-lable">С</span>
                @*@Html.EditorFor(model => (model[0] as DateModel).TimeFirst, new { htmlAttributes = new { @class = "input-time", value = "13:00 " } })*@
                <input type="text" class="input-time" value="13:00">
                <span class="time-lable" id="checkbox-label">до</span>
                @*@Html.EditorFor(model => (model[0] as DateModel).TimeSecond, new { htmlAttributes = new { @class = "input-time", value = "16:00 " } })*@
                <input type="text" class="input-time" value="16:00">
            </div>
            <div class="checkbox-wrap">
                @*@Html.CheckBoxFor(model => (model[0] as DateModel).FullTime, new  { @id = "checkbox-label", value = "Полный рабочий день ", @class="sub-title" })*@
                <input type="checkbox" class="sub-title" value="Полный рабочий день "/>
               
                <span class="sub-title" id="checkbox-label">Полный рабочий день</span>
            </div>

        </div>
        <span class="sub-title">Оказываемая услуга</span>
        <div class="offers-dropdown">
            <div class="offers-selected-wrap">
                <span class="offers-selected">Выберите несколько</span>
                <img src="~/Resources/svg/gray-arrow.svg" class="offers-arrow">
            </div>
            <div class="offers-options">
                <div class="dropdown-option">Парикмахерские услуги</div>
                <div class="dropdown-option">Маникюр</div>
                <div class="dropdown-option">Педикюр</div>
                <div class="dropdown-option">Массаж</div>
                <div class="dropdown-option">Визаж</div>
                <div class="dropdown-option">Шугаринг</div>
                <div class="dropdown-option">Оформление бровей</div>
                <div class="dropdown-option">Наращивание ресниц</div>
                <div class="dropdown-option">Перманентный макияж</div>
                <div class="dropdown-option">Косметологические услуги</div>
            </div>
            <!-- инпут для услуг -->
            <input type="text" class="hidden-input" id="input-for-offers"/>
            @*@Html.EditorFor(model => (model[0] as DateModel).Offers, new  { htmlAttributes = new { @id = "input-for-offers", value = "Полный рабочий день ", @class="hidden-input" }})*@
        </div>

    <span class="sub-title">Город для поиска</span>
    @*@Html.EditorFor(model => (model[0] as DateModel).City, new  { htmlAttributes = new { @id = "input-city" }})*@
        <input type="text" id="input-city">

        <div id="type-place">
            <span class="sub-title">Тип Рабочего Места</span>
            <div class="checkbox-wrap">
                @*@Html.CheckBoxFor(model => (model[0] as DateModel).PrivateSpace, new  { @id = "checkbox-label", value = "Полный рабочий день ", @class="sub-title" })*@
                <input type="checkbox" class="checkbox">
                <span class="checkbox-label-radio">отдельный кабинет;</span>
            </div>
            <div class="checkbox-wrap">
                @*@Html.CheckBoxFor(model => (model[0] as DateModel).OpenSpace, new  { @id = "checkbox-label", value = "Полный рабочий день ", @class="sub-title" })*@
                <input type="checkbox" class="checkbox">
                <span class="checkbox-label-radio">общее пространство;</span>
            </div>
        </div>
        <span class="sub-title">Дополнительные условия</span>
        <div class="offers-dropdown">
            <div class="offers-selected-wrap">
                <span class="offers-selected">Выберите несколько</span>
                <img src="~/Resources/svg/gray-arrow.svg" class="offers-arrow">
            </div>
            <div class="offers-options">
                <div class="dropdown-option">Бесплатный чай/кофе</div>
                <div class="dropdown-option">Расходные материалы</div>
                <div class="dropdown-option">Камера хранения</div>
                <div class="dropdown-option">Парковка</div>
                <div class="dropdown-option">Комната отдыха</div>
                <div class="dropdown-option">Детская комната</div>
            </div>
            <!-- инпут для доп условий -->
            @*@Html.EditorFor(model => (model[0] as DateModel).AddedOffers, new { htmlAttributes = new  { @class="hidden-input" }})*@
            <input type="text" class="hidden-input"/>
        </div>
        <button class="button">Поиск</button>
    </div>
    @*}*@
    <div id="main-wrap">
        <div id="results">
            <div id="results-line">
                <span id="results-title">Результаты поиска:</span>
                <div id="query-line"><span id="city">г.Москва,</span> <span id="date">21 Июля,</span> <span id="time">16:00,</span> <span id="offers">Парикмахерские услуги</span></div>
            </div>
            <div id="results-buttons">
                <button class="result-button active-button" id="show-list">Показать список</button>
                <button class="result-button" id="show-map">Показать результаты поиска на карте</button>
            </div>
        </div>
        <div id="results-list">
            @for (var i=0; i<(Model[1] as List<WorkingPlaceModel>).Count; i++)
            {
                <div class="card">
                    <div class="photos-place">
                        <div class="img-wrap">
                            <img src="~/Resources/img/default-card-img.png">
                        </div>
                        <div class="img-wrap">
                            <img src="~/Resources/img/default-card-img.png">
                        </div>
                        <div class="img-wrap">
                            <img src="~/Resources/img/default-card-img.png">
                        </div>
                        <div class="img-wrap">
                            <img src="~/Resources/img/default-card-img.png">
                        </div>
                        <div class="img-wrap">
                            <img src="~/Resources/img/default-card-img.png">
                        </div>

                    </div>
                    <div class="card-description">
                        <div class="card-title">
                            <span class="card-title-text">@((Model[2] as List<string>)[i])</span>
                            <img src="~/Resources/svg/heart-gray.svg">
                        </div>
                        <span class="address">@((Model[3] as List<string>)[i])</span>
                        <span class="tariffs-title">Тарифы на аренду рабочего места</span>
                        <div class="tariffs-wrap">
                            <div class="tariff-line">
                                <div class="tariff">От 1 часа</div>
                                <div class="tariff">От 3х часов</div>
                                <div class="tariff">От 12 часов</div>
                            </div>
                            <div class="tariff-line">
                                <div class="tariff">@((Model[1] as List<WorkingPlaceModel>)[i].Rate1h)</div>
                                <div class="tariff">@((Model[1] as List<WorkingPlaceModel>)[i].Rate3h)</div>
                                <div class="tariff">@((Model[1] as List<WorkingPlaceModel>)[i].RateDay)</div>
                            </div>
                        </div>
                        <button class="button" onclick="document.location='@Url.Action("WorkingPlacePage", new{id=((Model[1] as List<WorkingPlaceModel>)[i].Id)})'">Подробнее</button>
                    </div>
                </div>
            }


        </div>
        <div id="results-map" style="display: none;">
            <div id="map"></div>
        </div>
    </div>
</div>